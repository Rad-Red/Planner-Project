<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Radical Planner</title>
  <link rel="stylesheet" href="style.css" />
  <script src="./script.js" defer></script>

  <!-- FullCalendar CSS and JS -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
</head>
<body>

  <!-- Topbar -->
  <header class="topbar">
    <!-- Tab Dropdown -->
    <div class="tab-dropdown">
      <button id="tabMenuButton">&#9776;</button> <!-- three-line menu icon -->
      <div id="tabMenuDropdown" class="tab-menu-content">
        <button id="plannerTab"><i class="fa-solid fa-clipboard-list"></i> Planner</button>
        <button id="calendarTab"><i class="fa-solid fa-calendar-days"></i> Calendar</button>
        <button id="notesTab"><i class="fa-solid fa-note-sticky"></i> Notes</button>
        <button id="settingsTab"><i class="fa-solid fa-gear"></i> Settings</button>
        <button id="aboutTab"><i class="fa-solid fa-circle-info"></i> About</button>
      </div>
    </div>
  </header>
  <!-- Floating Add Widget button (kept at top-level so script can find and restyle it into a FAB) -->
  <button id="addWidgetButton" class="fab" title="Add Widget" aria-label="Add Widget">+
  </button>

<!-- Planner Section -->
<!-- Planner Section -->
<section class="planner" id="plannerSection">
  <div class="content-wrapper">
    <!-- Dashboard (widgets will appear here) -->
    <div id="dashboard"></div>
  </div>
  <footer class="footer"></footer>
</section>


<!-- Widget Preset Popup -->
<div id="widgetPresetPopup" class="modal-popup" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-header">
    <div class="mh-icon"><i class="fa-solid fa-layer-group"></i></div>
    <h3>Select Widget Preset</h3>
  </div>
  <button class="modal-top-close" aria-label="Close">&times;</button>
  <div id="widgetPresetOptions" class="modal-options">
    <button class="option-card" data-preset="blank"><i class="fa-regular fa-square"></i><span>Blank</span></button>
    <button class="option-card" data-preset="weather"><i class="fa-solid fa-cloud-sun"></i><span>Weather</span></button>
    <button class="option-card" data-preset="recentNotes"><i class="fa-regular fa-note-sticky"></i><span>Recent</span></button>
    <button class="option-card" data-preset="calendar"><i class="fa-solid fa-calendar-days"></i><span>Calendar</span></button>
    <button class="option-card" data-preset="reminders"><i class="fa-solid fa-bell"></i><span>Reminders</span></button>
    <button class="option-card" data-preset="tasks"><i class="fa-solid fa-list-check"></i><span>Tasks</span></button>
    <button class="option-card" data-preset="clock"><i class="fa-solid fa-clock"></i><span>Clock</span></button>
    <button class="option-card" data-preset="quotes"><i class="fa-solid fa-quote-left"></i><span>Quotes</span></button>
  </div>
  <div style="margin-top:0.8rem;">
    <button id="closePresetPopup" class="modal-close">Close</button>
  </div>
</div>

  <!-- Calendar Section -->
  <section class="calendar-view" id="calendarSection">
    <div id="calendar"></div>
  </section>

<!-- Notes Section -->
<section id="notesSection" style="display:none;">
  <div class="notes-container">
    <aside class="notes-sidebar">
      <div class="notes-sidebar-header">
        <h2>Notes</h2>
        <div class="notes-actions">
          <button id="newPageBtn" title="New Page">New</button>
          <button id="deletePageBtn" title="Delete Page">Delete</button>
        </div>
      </div>

      <div class="notes-search">
        <input id="notesSearch" placeholder="Search pages..." />
      </div>

      <ul id="pagesList" class="pages-list" aria-label="Pages list"></ul>
    </aside>

    <main class="notes-editor-wrap">
      <div class="note-topbar">
        <input id="noteTitleInput" class="note-title" placeholder="Untitled page" />
        <div class="note-top-actions">
          <span id="lastSaved" class="last-saved">Not saved yet</span>
    <div class="notes-dropdown" id="notesConfigDropdown">
    <button id="notesDropdownBtn">Settings</button>
    <div class="notes-dropdown-menu" id="notesDropdownMenu">
      <div class="dropdown-item">
        <label for="fontSize">Font Size:</label>
        <input type="number" id="fontSize" min="10" max="36" value="14"> px
      </div>
      <div class="dropdown-item">
        <label for="fontFamily">Font Family:</label>
        <select id="fontFamily">
          <option value="Arial">Arial</option>
          <option value="Verdana">Verdana</option>
          <option value="Times New Roman">Times New Roman</option>
          <option value="Courier New">Courier New</option>
        </select>
      </div>
      <div class="dropdown-item">
        <label for="lineHeight">Line Height:</label>
        <input type="number" id="lineHeight" min="1" max="3" step="0.1" value="1.5">
      </div>
      <div class="dropdown-item">
        <label for="textColor">Text Color:</label>
        <input type="color" id="textColor" value="#000000">
      </div>
    </div>
  </div>
        </div>
      </div>

      <div id="notesEditor" class="notes-editor" contenteditable="true" spellcheck="true"
           role="textbox" aria-multiline="true" placeholder="Start writing..."></div>
    </main>
  </div>
</section>

  <!-- Settings Section -->
<section id="settingsSection" style="display:none;">
  <h2>Settings</h2>
  <div class="setting">
    <label for="themeSelect">Theme:</label>
  <div class="custom-dropdown">
    <button id="themeDropdownButton">Theme</button>
    <div id="themeDropdownMenu" class="dropdown-menu">
      <div data-theme="light">Light</div>
      <div data-theme="dark">Dark</div>
      <div data-theme="sunset">Sunset</div>
      <div data-theme="mint">Mint</div>
      <div data-theme="lavender">Lavender</div>
      <div data-theme="peach">Peach</div>
    </div>
  </div>
  </div>

  <div class="setting">
    <label for="widgetThemeSelect">Widgets appearance:</label>
    <select id="widgetThemeSelect">
      <option value="inherit">Follow site theme</option>
      <option value="light">Widgets - Light</option>
      <option value="dark">Widgets - Dark</option>
    </select>
  </div>

  <div class="setting">
    <label>Clock & Weather location</label>
    <div class="setting-grid location-settings">
      <div class="field">
        <label for="useDeviceLocation">Use device location</label>
        <input type="checkbox" id="useDeviceLocation" checked>
      </div>

      <div id="locationOverrides" class="override-panel" style="display:none;">
        <div class="field">
          <label for="overrideLat">Latitude</label>
          <input id="overrideLat" type="number" step="0.0001" placeholder="51.5074">
        </div>

        <div class="field">
          <label for="overrideLon">Longitude</label>
          <input id="overrideLon" type="number" step="0.0001" placeholder="-0.1278">
        </div>

        <div class="field">
          <label for="overrideLocationInput">Location</label>
          <div class="autocomplete-wrap">
            <input id="overrideLocationInput" placeholder="Start typing a country or capital...">
            <div id="locationSuggestions" class="location-suggestions" aria-label="Location suggestions" style="display:none;position:absolute;left:0;right:0;z-index:4000;"></div>
          </div>
          <input id="overrideCity" type="hidden">
        </div>

        <div class="field">
          <label for="overrideTimezoneSearch">Timezone</label>
          <input id="overrideTimezoneSearch" type="search" placeholder="Search timezones...">
        </div>

        <div class="field">
          <label for="overrideTimezone">Timezone results</label>
          <select id="overrideTimezone" size="5" aria-label="Timezone options">
            <option value="auto">Auto (from location)</option>
          </select>
        </div>

        <div class="field">
          <div class="helper">If you disable device location, the clock and weather will use the latitude/longitude and timezone you enter.</div>
        </div>
      </div>
    </div>
  </div>
</section>

  <!-- About Section -->
  <section id="aboutSection" style="display:none;">
    <div class="content-wrapper">
      <h2>About</h2>
      <p><strong>Made By:</strong>Radred</p>
      <a href="https://alreeyada-school.com/" target="_blank">
        <img src="Images/912f95e4-e292-4fdb-9d12-6f12460cf3c8.jpeg" alt="Author" />
      </a>
    </div>
  </section>

  <!-- Popup messages -->
  <div class="popup" id="popupMessage"></div>

  <!-- Task view popup -->
  <div id="viewTaskPopup" class="modal-popup small" role="dialog" aria-modal="true" aria-hidden="true">
    <button class="modal-top-close" aria-label="Close">&times;</button>
    <div class="modal-header">
      <div class="mh-icon"><i class="fa-solid fa-calendar-day"></i></div>
      <h3 id="viewTaskTitle">Task Title</h3>
    </div>
    <div class="modal-body">
      <p><strong>Date:</strong> <span id="viewTaskDate"></span></p>
      <p><strong>Time:</strong> <span id="viewTaskTime"></span></p>
      <label for="reminderTime">Remind me in:</label>
      <select id="reminderTime">
        <option value="">No reminder</option>
        <option value="30">30 minutes</option>
        <option value="60">1 hour</option>
        <option value="120">2 hours</option>
        <option value="240">4 hours</option>
      </select>
      <p><strong>Description:</strong> <span id="viewTaskDesc"></span></p>
    </div>
    <div class="modal-actions">
      <button id="editTaskBtn" class="btn-primary">Edit Task</button>
      <button id="deleteTaskBtn" class="btn-danger">Delete Task</button>
    </div>
    <button id="closeViewTask" class="modal-close">Close</button>
  </div>

</body>
</html>
